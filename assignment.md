|
 |
 |
 |
| --- | --- | --- |

Semester & Academic Year: 1/ 2021 - 22

# **Module Name: Fundamentals of Computing**

Assessment: CA2 Group Document on Managing Ubuntu on AWS

Class: DCITP/A1/01 CA2 Team No. 2

Team members:

Shushant Shashwat (2123602)

Javier Fok (2123280)

Adeeb (2107095)

Zheng Yao (2102681)


# **1. Creating a Virtual Machine on AWS Instances and how to access it**

In this document, we will be documenting major steps and commands with screenshots on how we install and manage Ubuntu Server and WordPress web site on Ubuntu Linux on AWS.

Firstly, we need to launch a virtual machine hosted on the AWS cloud in AWS console. We select Ubuntu Server 18.04 LTS (HVM), SSD Volume Type (64-bit), and create a new keypair to connect to our instance and download the keypair as a .pem file called WPFOC-KEYPAIR. We will name it as FOCCA2 (For Assignment).

![](https://imgur.com/a/rIrQkb5)

Then we have to open Putty Gen to generate a private key to login to remote instance using putty. In Putty Gen, we will select File then load private key and select the keypair we downloaded.

![](RackMultipart20221011-1-lllxfv_html_40637f4300c2c4f0.png)

Then we will open Putty itself, go to Connection, SSH, Auth and load our, .ppk file we created in Putty Gen.

![](RackMultipart20221011-1-lllxfv_html_7e06455d2ea1d2a5.png)

We also have to set the hostname field in session with our public DNS name ![](RackMultipart20221011-1-lllxfv_html_5f1b3432cfc7ea8d.png)

Finally, we can click open, and it should open! We will login as 'ubuntu' to the server.

![](RackMultipart20221011-1-lllxfv_html_77e661d7c1598909.png)

Now we will set up the Apache Web Server, PHP, and MySQL server on the AWS instance.


# **2. Installing Apache**

We will install the HTTP server (Web server software that runs web servers) via the command:

sudo apt-get update

To update our ubuntu to check for any pending updates.

Installing Apache:

![](RackMultipart20221011-1-lllxfv_html_a7fc6258a111701a.png)

sudo apt-get install apache2

To check if apache2 service is running:

![](RackMultipart20221011-1-lllxfv_html_151d2db7b370eb45.png)

sudo systemctl status apache2

**Troubleshooting**

However, we encountered a problem when trying to check out the pages on our public DNS

![](RackMultipart20221011-1-lllxfv_html_ccde2f3dbb3e11b2.png)

So, we went to AWS Console to change the security group for the EC2 instance. We added a HTTP port 80 in our inbound rules.

![](RackMultipart20221011-1-lllxfv_html_ed7b654418c3d49.png)

The changes should be saved and then it finally works!

![](RackMultipart20221011-1-lllxfv_html_18006c21251e5d4f.png)


# **3. Installing PHP**

Next, we should also install PHP (Server Scripting Language) which is fully supported and recommended for WordPress.

The command to install PHP and all required extensions:

![](RackMultipart20221011-1-lllxfv_html_816939ac9426afda.png)

Then we have to restart apache2 so the newly installed PHP extensions will be loaded.

sudo systemctl restart apache2

We will now test if php works by editing and creating a new file called test.php in /var/www/html using sudo nano

sudo nano /var/www/html/test.php

![](RackMultipart20221011-1-lllxfv_html_2019343eb4013d11.png)

Checking if our web server can correct display content generated by a PHP script.

![](RackMultipart20221011-1-lllxfv_html_1eaf06e058771600.png)

It works!

**Before moving on, we are going to create and get an Elastic IP address for our AWS instance so that we can get a fixed IP address associated with our instance, since the address changes every time.**

![](RackMultipart20221011-1-lllxfv_html_e7dc713ff656eb93.png)

![](RackMultipart20221011-1-lllxfv_html_dc62b4a0f6540f83.png)

# **4. Installing MySQL**

MySQL is a database management system, uses a Structured Query Language to manage its data. We will be installing MySQL on Ubuntu using the following command:

![](RackMultipart20221011-1-lllxfv_html_422663753d00ebb9.png)

Then we will run the mysql with:

sudo mysql

And configure the root account to authenticate with a password, with ALTER USER command.

Then FLUSH PRIVILEGES; to reload grant tables put new changes into effect.

![](RackMultipart20221011-1-lllxfv_html_1e38af6a9d843d41.png)

**Before moving on to creating users and database for WordPress on MySQL, we need to configure the Apache web server to set the document root for WordPress Web site to /var/www/html/p2123602**

Firstly, we need to stop the apache2 service using:

sudo systemctl stop apache2 service

![](RackMultipart20221011-1-lllxfv_html_7dbb5963116d7a7d.png)

Then we will make a new directory at /var/www/html called p2123602

![](RackMultipart20221011-1-lllxfv_html_b1440359acd6fb16.png)

After that we shall edit go /etc/apache2 and edit the apache2.conf file and change the directory file.

![](RackMultipart20221011-1-lllxfv_html_b576f834e59586fb.png)

![](RackMultipart20221011-1-lllxfv_html_b335da15255a9d2f.png)

We now have to make changes in the 000-default.conf file

![](RackMultipart20221011-1-lllxfv_html_5ff006c20bbb5560.png)

![](RackMultipart20221011-1-lllxfv_html_4ba357e8357b3625.png)

Restart apache2 to take in the changes:

sudo systemctl restart apache2

Now, we have to set proper permissions for www-data system user.

Change the group of /var/www from root to www-data

![](RackMultipart20221011-1-lllxfv_html_9ba5d75567be0347.png)

Change owner of root directory and its files to www-data and check if root directory has www-data as its owner.

![](RackMultipart20221011-1-lllxfv_html_6b55523ec371e7e4.png)

**Creating a database user in mysql server for PHP to access mysql, server and assign proper rights**

We will now enter mysql using the command:

mysql –u root –p

And enter our password. Then, we shall create the user and database in MySQL as shown below.

![](RackMultipart20221011-1-lllxfv_html_33fee0454d220fe4.png)

| DB\_NAME | DB\_USER | DB\_PASSWORD |
| --- | --- | --- |
| Wordpress-db-p2123602 | Wordpress-user-p2123602 | Ubuntu1@# |

# **5. Installing WordPress**

We will now download and unzip the WordPress installation package as shown below:

![](RackMultipart20221011-1-lllxfv_html_8bb4601d9db13b9d.png)

Where we unzip and unarchive the installation package and the installation folder is unzipped to a folder called WordPress, which located in our home directory.

**To create and edit the wp-config.php file**

Firstly, we copy the wp-config-sample.php file to another file called wp-config.php. It creates a new configuration file and keeps the original sample file intact as a backup.

![](RackMultipart20221011-1-lllxfv_html_4ab061f2f81e8632.png)

Secondly, we edit the wp-config.php file with nano and enter the values for our installation (such as changing the DB\_NAME, DB\_USER, DB\_PASSWORD)

![](RackMultipart20221011-1-lllxfv_html_b09bafd3ed018f5b.png)

![](RackMultipart20221011-1-lllxfv_html_514365f5d8c6d510.png)

Lastly, we need to copy WordPress to our Apache root directory (/var/www/html/p2123602)

![](RackMultipart20221011-1-lllxfv_html_b330fbcfa9e25af0.png)

We are now ready to install WordPress!

We need to check if Apache and MySQL are running

![](RackMultipart20221011-1-lllxfv_html_6407f068be5b1363.png)

![](RackMultipart20221011-1-lllxfv_html_7b7397bf8615cac0.png)

Now that WordPress is downloaded and the server configuration is complete, it is time to finalize the WordPress installation through the web interface.

We entered our public IPv4 Address and then the installation screen showed up! Congratulations! We just installed WordPress!

![](RackMultipart20221011-1-lllxfv_html_35ef3eaef0ec34c.png)

Here we can enter the name for our web site and assign a username and password along with an email address.

![](RackMultipart20221011-1-lllxfv_html_f068b3ad5dfa8e09.png)

Logging into WordPress

![](RackMultipart20221011-1-lllxfv_html_ecb3533f7b6d6a9f.png)

![](RackMultipart20221011-1-lllxfv_html_fdf63473598c30f0.png)

From here we can customize about how we want our webpage to look like and add content.

# **6. How we add content to our WordPress web site**

In this final part, we will be showing how to add content to our website and publishing it. In this example we will be using our practical reflections (pdf files) of Shushant's reflections as an example of how we add content.

Firstly, we need to add media in order to add our pdf files. On the left side of the site in the menu, click on Media then add new.

![](RackMultipart20221011-1-lllxfv_html_749e12c462d16275.png)

After that click on 'Select Files' and add in your desired pdf files. In this case, we will be adding practical reflections for FOC 1,2,3,4,5,6 and 7. (Shushant's practical reflections)

**Troubleshooting**

However, we faced an issue when uploading our pdf files

![](RackMultipart20221011-1-lllxfv_html_6132a32b0e469c4b.png)

We are unable to add our pdf files as there is a possibility that the www-data does not have access to the uploads folder, hence we need to fix our file permissions.

**To fix file permissions**

![](RackMultipart20221011-1-lllxfv_html_fbcc1e267d3a4484.png)

![](RackMultipart20221011-1-lllxfv_html_d7929e7a458f95f2.png)

And now we can upload our pdf files!

![](RackMultipart20221011-1-lllxfv_html_b129bfb52e62e2ef.png)

It finally uploads!

Then we go to Posts, add new post and then put our title and link to our pdf

![](RackMultipart20221011-1-lllxfv_html_2aaea75ada01cec8.png)

And that is how we manage on how we install and manage Ubuntu Server and WordPress web site on Ubuntu Linux on AWS!

|
 |
 |
 |
| --- | --- | --- |
